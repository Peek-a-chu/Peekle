---
stepsCompleted: [1, 2]
workflowType: 'ux'
project_name: 'peekle'
user_name: 'yeongjae'
date: '2026-01-17'
---

# UX 디자인 및 UI 컴포넌트 명세 (상세)

> **버전:** 2.0 (Spec v1.1 반영)
> **기반 문서:** `spec.md` (기능 명세 상세), `api-spec.md`
> **목표:** 개발자가 디자인 시안 없이도 마크업을 진행할 수 있도록 레이아웃과 데이터 표현 방식을 구체화함.

## 1. 디자인 시스템

### 1.1 색상 및 테마
*   **테마 모드:** `Light` (기본) / `Dark` 지원 (localStorage).
*   **강조 색상 (Accent Colors):**
    *   **Primary:** `#E24EA0` (Peekle Pink) - 브랜드 아이덴티티, 메인 액션 버튼.
    *   **Secondary:** `Violet-500` - 화상 타일 화자 강조, 보조 액션.
*   **기능성 색상 (Functional Colors):**
    *   **Success:** `Emerald-500` - 문제 해결, 승급, 긍정적 지표.
    *   **Warning:** `Amber-500` - 시간 임박, 강등 위기.
    *   **Error:** `Rose-500` - 제출 실패, 강등 확정.
    *   **Code:** `Slate-900` (에디터 배경).

### 1.2 레이아웃 (App Shell)
*   **뷰포트:** 데스크탑 우선 (최소 너비: 1024px 권장), 모바일 대응 (사이드바 드로어).
*   **LNB (좌측 네비게이션 바):**
    *   **너비:** 고정 `240px` (데스크탑).
    *   **위치:** Sticky/Fixed left.
    *   **콘텐츠 순서:**
        1.  **프로필 카드:** 아바타(40px) + 닉네임 + 드롭다운 트리거.
        2.  **리그 카드:** 티어 아이콘 + 순위 텍스트 + 진행 바 (클릭 시 -> `/league`).
        3.  **메뉴:** 홈, 스터디, 게임, 문제집, 랭킹, 리그, 검색.
        4.  **하단 액션:** 설정 (기어 아이콘) -> 전역 모달.
*   **메인 콘텐츠:** `flex-1`, `bg-slate-50/50` (밝은 회색 배경).

---

## 2. 페이지별 상세 명세

### 2.1 메인 대시보드 (`/home`)
> **구조:** 2단 그리드 (좌 65% : 우 35%)

#### 좌측 패널 (주요 활동)
1.  **리그 추세 차트 (상단):**
    *   **유형:** 라인 차트 (Recharts).
    *   **X축:** 주차별 날짜 (1-1, 1-8...).
    *   **Y축:** 티어 레벨 (Stone ~ Ruby).
    *   **툴팁:** 기간, 마감 티어, 획득 점수.
    *   **인터랙션:** 스크롤 가능한 컨테이너 또는 최근 10주.
2.  **스트릭 & 일일 로그 (중단):**
    *   **스트릭:** GitHub 스타일 히트맵 (연/월 선택기).
    *   **일일 로그 (스트릭 하단):**
        *   선택한 날짜의 문제 리스트.
        *   **배지:** `[Study:방이름]`, `[Game:모드]`, `[Solo]`.
3.  **추천 & 주간 점수 (하단):**
    *   **AI 카드:** 문제 정보 + "추천 이유 1줄" (강조). 액션: [풀러가기], [문제집 담기].
    *   **주간 점수:** 이번 주 누적 점수 + 타임라인(활동 로그 3개 + 더보기).

#### 우측 패널 (컨텍스트 정보)
1.  **리그 그룹 랭킹:**
    *   **리스트 항목:** 순위 | 사용자 정보 | 점수.
    *   **시각적 구분선:** `───── 승급 구간 ─────`, `───── 강등 구간 ─────`.
    *   **강조:** 내 순위 항목 강조 (배경색 & 굵게).

### 2.2 스터디 룸 (`/study/[id]`)
> **구조:** 3단 크기 조절 레이아웃 (좌 20 : 중 50 : 우 30)

#### 좌측 패널 (문제)
*   **헤더:** 날짜 필터 (달력 아이콘).
*   **리스트 항목:**
    *   상태 아이콘 (체크/빈칸).
    *   문제 제목 + 링크 (외부 아이콘).
    *   **힌트 토글:** 전구 아이콘 (클릭 -> 태그/티어 표시).
    *   **진행률:** `3/5` (해결한 멤버 수).
*   **관찰 모드:** 특정 문제 클릭 시 해당 문제 Active 상태 표시 (테두리 색상).

#### 중앙 패널 (작업 공간)
1.  **비디오 그리드 (상단 - 접기 가능):**
    *   **정렬:** 나(고정) -> 화이트보드 -> 활성 화자 -> 기타.
    *   **오버레이:** 이름표, 마이크 상태, "관찰 중" 배지 (+3 아이콘).
2.  **IDE (중단 - 메인):**
    *   **라이브러리:** Monaco Editor.
    *   **툴바:** 언어 선택, 테마 토글, 복사, 초기화.
    *   **읽기 전용 모드:** 타인 코드 열람 시 테두리 색상 변경 (`Border-Amber-400`) + "{이름}님의 코드 보는 중" 라벨.
    *   **칭찬 오버레이:** 코드 위에 떠다니는 이모지 버튼 (👍, 🆗, 🤔).
3.  **컨트롤 바 (하단):**
    *   **미디어:** 캠/마이크 토글, 장치 설정 트리거.
    *   **도구:** 화이트보드 토글.

#### 우측 패널 (소셜)
*   **탭:** [채팅] | [멤버].
*   **채팅:** 마크다운 지원 버블 리스트.
*   **멤버:**
    *   방장 제어 : 전체 음소거, 강퇴, 방장 위임.
    *   나 : 내 마이크/캠 상태 표시기.

### 2.3 게임 룸 (`/games/[id]`)
> **구조:** 스터디 룸과 유사하지만 단순화됨.

*   **차이점:**
    *   **달력 없음:** 단일 세션.
    *   **상단 바:** **대형 디지털 타이머** (1분 미만일 때 붉은 펄스 애니메이션).
    *   **스코어보드 오버레이:** 채팅을 대체하거나 위에 뜸.
        *   실시간 순위 변경 애니메이션.

### 2.4 프로필 (`/profile/[id]`)
*   **헤더 카드:** 아바타 (본인일 경우 편집 가능), 닉네임 (중복 확인), 통계 (팔로우, 스트릭, 티어).
*   **확장 프로그램 섹션 (본인 전용):**
    *   **상태 카드:** `미설치` / `설치됨(미연동)` / `연동됨`.
    *   **액션:** [설치 (Chrome 스토어)], [토큰 복사].
*   **히스토리 리스트:**
    *   **페이지네이션:** 페이지당 20개 항목.
    *   **필터:** 날짜 범위, 소스 유형 (스터디/게임), 티어.
    *   **확장 가능한 행:** 클릭 시 코드 스니펫 & 결과 메타데이터 슬라이드 다운.

### 2.5 리그 페이지 (`/league`)
*   **헤더:** 현재 티어 티켓 + 시즌 카운트다운 (D-Day).
*   **정보 섹션:**
    *   티어 분포 바 (전체 사용자 %).
    *   승급/강등 커트라인 가이드 (예: 상위 20% 승급).
*   **랭킹 테이블:**
    *   대시보드 우측 패널과 동일하지만 전체 보기.
    *   클릭 가능한 사용자 행.

---

## 3. 공통 모달 및 인터랙션

### 3.1 입장 전 확인 모달 (Pre-join Modal)
*   **트리거:** 스터디/게임 룸 입장.
*   **콘텐츠:**
    *   **미리보기:** 웹캠 스트림.
    *   **설정:** 마이크/스피커 선택 + 볼륨 슬라이더 (실시간 미터 피드백).
    *   **확인:** 확장 프로그램 설치 검증 (필수/엄격 모드인 경우 입장 차단).

### 3.2 전역 설정 모달
*   **탭:** [테마], [장치].
*   **테마:** 다크/라이트 토글, 메인 색상 선택기.
*   **장치:** 전역 캠/마이크/스피커 설정.

### 3.3 게임/스터디 생성 모달
*   **게임:**
    *   **모드 선택:** 카드 선택 (스피드 vs 많이 풀기) + 토글 (팀 vs 개인).
    *   **입력:** 시간/개수 슬라이더.
    *   **문제 소스:** 탭 [랜덤 BOJ] | [내 문제집].

---

## 4. UI 컴포넌트 인벤토리

### 4.1 기본 컴포넌트 (shadcn/ui)
*   `Button`, `Input`, `Select`, `Slider`, `Switch`, `Tabs`, `Dialog (Modal)`, `Toast`.
*   `Card` (Base container).
*   `Avatar`, `Badge`.

### 4.2 커스텀 컴포넌트
*   **`TierBadge`**: svg/img icon based on tier enum.
*   **`GrassGraph`**: `react-activity-calendar` or custom SVG grid.
*   **`VideoTile`**:
    *   Props: `streamManager`, `isMain`, `isSpeaker` (활성 화자).
    *   Internal: 자동 크기 조절, 비율 처리.
*   **`IdeWrapper`**:
    *   Props: `code`, `language`, `readOnly` (읽기 전용).
    *   Internal: `@monaco-editor/react` 설정.
*   **`ExtensionConnector`**:
    *   Logic: `window.postMessage` 핸드셰이크 관리자.
    *   UI: 상태 표시기 & 토큰 복사기.

---

## 5. Mock 데이터 전략 (`lib/mock-data.ts`)
*   **State:** `useMockStore` (Zustand)
    *   `isLoggedIn`, `currentUser`, `extensionStatus`.
    *   `rooms`, `games`, `chatLogs`.
*   **Generators:**
    *   `generateProblem()`: 랜덤 제목, 티어, 태그.
    *   `generateRanking(count)`: 점수 포함 정렬된 사용자 목록.
    *   `generateStreak(days)`: 날짜-카운트 매핑.

---
**구현 원칙:** 모든 더미 데이터는 "그럴듯한" 값이어야 하며, 인터랙션(좋아요, 제출, 채팅) 발생 시 로컬 상태가 즉각 업데이트되어야 함.
