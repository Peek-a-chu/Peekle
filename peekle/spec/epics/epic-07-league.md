# Epic-07: ë¦¬ê·¸ ì‹œìŠ¤í…œ (League System)

## ğŸ“Œ Overview
ì´ ë¬¸ì„œëŠ” **ë¦¬ê·¸ ì‹œìŠ¤í…œ**ì— ëŒ€í•œ ì „ì²´ ì—í”½ ë° ìŠ¤í† ë¦¬ ì„¸ë¶€ ë‚´ì—­ì„ ì œê³µí•©ë‹ˆë‹¤. 10ëª… ë‹¨ìœ„ì˜ ì†Œê·œëª¨ ë¦¬ê·¸ ê²½ìŸ, ì‹¤ì‹œê°„ ë­í‚¹, ì£¼ê°„ ìŠ¹ê¸‰/ê°•ë“± ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ í†µí•´ ì§€ì†ì ì¸ í•™ìŠµ ë™ê¸°ë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤.

## ğŸ“‹ Stories

### 07.1. ë¦¬ê·¸ ë­í‚¹ í…Œì´ë¸” (Frontend)
**User Story**
> **ì‚¬ìš©ì**ë¡œì„œ, **ë‚´ ë¦¬ê·¸ ê·¸ë£¹(20ëª…) ë‚´ì—ì„œ ë‚´ ìœ„ì¹˜**ë¥¼ ë³´ê³  ì‹¶ë‹¤.
> ìŠ¹ê¸‰ ê°€ëŠ¥ê¶Œì¸ì§€ ê°•ë“± ìœ„í—˜ê¶Œì¸ì§€ íŒŒì•…í•˜ì—¬ ê²½ìŸì‹¬ì„ ê°–ê¸° ìœ„í•¨ì´ë‹¤.
> ë˜í•œ, **ë‚˜ì˜ ì—­ëŒ€ ìµœê³  ë„ë‹¬ ë¦¬ê·¸**ë¥¼ í™•ì¸í•˜ì—¬ ì„±ì·¨ê°ì„ ëŠë¼ê³  ì‹¶ë‹¤.

**âœ… Acceptance Criteria**
- [ ] ë¦¬ê·¸ í˜ì´ì§€ ì§„ì… ì‹œ í˜„ì¬ ë‚´ê°€ ì†í•œ ê·¸ë£¹ì˜ ë­í‚¹ í…Œì´ë¸”ì„ ë³´ì—¬ì£¼ì–´ì•¼ í•œë‹¤.
- [ ] ë­í‚¹ í¬ì¸íŠ¸(LP) ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ì•¼ í•˜ë©°, ë‚´ í–‰(Row)ì€ ì‹œê°ì ìœ¼ë¡œ ê°•ì¡°ë˜ì–´ì•¼ í•œë‹¤.
- [ ] ìŠ¹ê¸‰ê¶Œ(ìƒìœ„ê¶Œ)ê³¼ ê°•ë“±ê¶Œ(í•˜ìœ„ê¶Œ)ì„ êµ¬ë¶„í•˜ëŠ” ì‹œê°ì  ê°€ì´ë“œë¼ì¸(êµ¬ë¶„ì„ , ë°°ê²½ìƒ‰ ë“±)ì´ í‘œì‹œë˜ì–´ì•¼ í•œë‹¤.
- [ ] **[ìµœê³  ê¸°ë¡]** ì‚¬ìš©ì ì •ë³´ ì˜ì—­ì— "ìµœê³  ë„ë‹¬ ë¦¬ê·¸(Max League)"ê°€ ë±ƒì§€ë‚˜ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œë˜ì–´ì•¼ í•œë‹¤.

**ğŸ›  Implementation Tasks**
- [ ] `LeagueRankingTable` ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] ë‚´ ìˆœìœ„ í•˜ì´ë¼ì´íŒ… CSS ì ìš©
- [ ] ìŠ¹ê¸‰/ê°•ë“± ë¼ì¸ ë Œë”ë§ ë¡œì§
- [ ] ìµœê³  í‹°ì–´ í‘œì‹œ UI ì¶”ê°€

### 07.2. ë¦¬ê·¸ ì¡°íšŒ API (Backend)
**User Story**
> **í´ë¼ì´ì–¸íŠ¸**ë¡œì„œ, **í˜„ì¬ ì‚¬ìš©ìì˜ ë¦¬ê·¸ ê·¸ë£¹ ë°ì´í„°**ë¥¼ ì¡°íšŒí•˜ê³  ì‹¶ë‹¤.
> ë­í‚¹ í…Œì´ë¸” UIë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•¨ì´ë‹¤.

**âœ… Acceptance Criteria**
- [ ] `GET /api/v1/leagues/me` í˜¸ì¶œ ì‹œ ì‚¬ìš©ìì˜ `league_group_id`ì— ì†í•œ ëª¨ë“  ë©¤ë²„ ëª©ë¡ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤.
- [ ] ì‘ë‹µì—ëŠ” ìˆœìœ„, ìœ ì € ê¸°ë³¸ ì •ë³´(ë‹‰ë„¤ì„, í”„ë¡œí•„, **Max League**)ì™€ í˜„ì¬ í¬ì¸íŠ¸ê°€ í¬í•¨ë˜ì–´ì•¼ í•œë‹¤.
- [ ] Redis ìºì‹œ(`ZSet`)ë¥¼ ìš°ì„  ì¡°íšŒí•˜ê³  ì—†ì„ ê²½ìš° DBì—ì„œ ì¡°íšŒí•˜ì—¬ ì‘ë‹µ ì†ë„ë¥¼ ìµœì í™”í•´ì•¼ í•œë‹¤.
- [ ] **[DB ìŠ¤í‚¤ë§ˆ]** `Users` í…Œì´ë¸”ì— `max_league` ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ì—¬ ê´€ë¦¬í•´ì•¼ í•œë‹¤.

**ğŸ›  Implementation Tasks**
- [ ] `LeagueService` ë­í‚¹ ì¡°íšŒ ë¡œì§ êµ¬í˜„
- [ ] Redis ìºì‹± ì „ëµ(Look-aside) ì ìš©
- [ ] User Entity `max_league` í•„ë“œ ì¶”ê°€ ë° ê°±ì‹  ë¡œì§ (ìŠ¹ê¸‰ ì‹œ ì²´í¬)

### 07.3. í‹°ì–´ ë¶„í¬ ê·¸ë˜í”„ (Frontend)
**User Story**
> **ì‚¬ìš©ì**ë¡œì„œ, **ì „ì²´ ì‚¬ìš©ìì˜ í‹°ì–´ë³„ ë¶„í¬**ë¥¼ ë³´ê³  ì‹¶ë‹¤.
> ì „ì²´ ìƒíƒœê³„ì—ì„œ ë‚˜ì˜ ê°ê´€ì ì¸ ìœ„ì¹˜ë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•¨ì´ë‹¤.

**âœ… Acceptance Criteria**
- [ ] ë¸Œë¡ ì¦ˆë¶€í„° ë‹¤ì´ì•„ëª¬ë“œê¹Œì§€ ê° í‹°ì–´ì— ì†í•œ ì¸ì›ìˆ˜ë¥¼ ë§‰ëŒ€ ì°¨íŠ¸(Bar Chart)ë¡œ ì‹œê°í™”í•´ì•¼ í•œë‹¤.
- [ ] ë‚´ê°€ ì†í•œ í‹°ì–´ì˜ ë§‰ëŒ€ëŠ” ë‹¤ë¥¸ ìƒ‰ìƒìœ¼ë¡œ ê°•ì¡°ë˜ì–´ì•¼ í•œë‹¤.

**ğŸ›  Implementation Tasks**
- [ ] `TierDistributionChart` ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] ì „ì²´ í†µê³„ ì¡°íšŒ API ì—°ë™

### 07.4. ë¦¬ê·¸ ìŠ¤ì¼€ì¤„ëŸ¬ (ë°°ì¹˜) (Backend)
**User Story**
> **ì‹œìŠ¤í…œ**ìœ¼ë¡œì„œ, **ë§¤ì£¼ ìˆ˜ìš”ì¼ ìƒˆë²½ì— ë¦¬ê·¸ ìŠ¹ê¸‰/ê°•ë“±ì„ ì¼ê´„ ì²˜ë¦¬**í•˜ê³  ì‹¶ë‹¤.
> ìƒˆë¡œìš´ ì‹œì¦Œ(ì£¼ì°¨)ì„ ì‹œì‘í•˜ê³  ë¦¬ê·¸ ìƒíƒœê³„ë¥¼ ìˆœí™˜ì‹œí‚¤ê¸° ìœ„í•¨ì´ë‹¤.

**âœ… Acceptance Criteria**
- [ ] ë§¤ì£¼ ìˆ˜ìš”ì¼ 06:00 (KST)ì— `LeagueScheduler`ê°€ ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤ (`@Scheduled`).
- [ ] ë°°ì¹˜ ì‘ì—…ì€ ë‹¤ìŒ ìˆœì„œë¡œ ì›ìì (Atomic)ìœ¼ë¡œ ìˆ˜í–‰ë˜ì–´ì•¼ í•œë‹¤: ìŠ¤ëƒ…ìƒ· ìƒì„± -> ìŠ¹ê¸‰/ê°•ë“± ê³„ì‚° -> ìœ ì € ì •ë³´ ì—…ë°ì´íŠ¸ -> Redis ë­í‚¹ ë¦¬ì…‹.
- [ ] ìŠ¹ê¸‰/ê°•ë“± ê·œì¹™ì€ `LeagueTier` Enumì— ì •ì˜ëœ ê°’ì„ ë”°ë¼ì•¼ í•œë‹¤.

**ğŸ›  Implementation Tasks**
- [ ] Spring Batch Job ì„¤ì • ë° Step êµ¬ì„±
- [ ] `LeagueTier` Enum ê·œì¹™ ì ìš© ë¡œì§ êµ¬í˜„
- [ ] íŠ¸ëœì­ì…˜ ë²”ìœ„ ì„¤ì • ë° ì˜ˆì™¸ ì²˜ë¦¬